
## Група 1
Свалете файла cars.csv от тук: https://goo.gl/1YpoE5
 
Задача 1
Имплементирайте генератор read_file, който връща всички редове от файла, освен първите два. Първите два реда не съдържат информация за кола. Генераторът да приема името на файла като първи аргумент и да използва него.
 
Задача 2
Имплементирайте генератор read_splitted, който приема два аргумента. Първият аргумент е името на файла, чийто редове ще четете и ще разделяте на лист. Вторият аргумент да е обект на функция. Тази функция трябва да приема един аргумент, който всъщност ще е текущия ред от файла. Функцията трябва да разделя реда на лист и да връща листа. Генераторът да връща резултата от споменатата функция. Взимайте целите редове, чрез генератора от Задача 1.
 
Задача 3
Имплементирайте функция get_europe_cars, която итерира по разбитите на лист редове, използвайки генератора от втора задача. На read_splitted подайте lambda израз, за да ви раздели реда. Функцията да връща лист с имената на всички коли, които са от Европа. get_europe_cars трябва да приема за аргумент името на файла, по който ще се работи и да го подава на read_splitted.

## Решение
### Задача 1
Задача 1
Имплементирайте генератор read_file, който връща всички редове от файла, освен първите два. Първите два реда не съдържат информация за кола. Генераторът да приема името на файла като първи аргумент и да използва него.

"Имплементирайте генератор read_file, който връща всички редове от файла, освен първите два" - има се предвид, че генераторът трябва да yield-ва всички редове от файла освен първите два. Когато генераторът се използва в цикъл, на всяка итерация да иамме следващия ред от файла, като пропуснем първите два.

```python
def read_file(name):
    f = open(name, 'r'):
    for line in f:
        yield line
```

"... освен първите два. Първите два реда не съдържат информация за кола" - Знаем, че обектът за файла (`f`) може да бъде итериран. Затова и `for line in f:` работи. Ако си спомняте от урока за итератори, когато на един обект, който има метода `__next__`, можем да го подадем на `next()`. Обекта `f` има метод `__next__`. На всяка итерация в цикъла отдолу всъщност все едно имаме `line = next(f)`. Така `line` от цикъла ни е всеки ред от файла. За да пропуснем и да не `yield`-нем първите два реда, просто преди цикъла можем да напишем два пъти `next(f)` и така в цикъла ще започне директно от третия ред.


```python
def read_file(name):
    f = open(name, 'r'):
    next(f) # get the first line but don't yield it
    next(f) # get the second line but don't yield it
    for line in f:
        yield line
```

### Задача 2
Имплементирайте генератор read_splitted, който приема два аргумента. Първият аргумент е името на файла, чийто редове ще четете и ще разделяте на лист. Вторият аргумент да е обект на функция. Тази функция трябва да приема един аргумент, който всъщност ще е текущия ред от файла. Функцията трябва да разделя реда на лист и да връща листа. Генераторът да връща резултата от споменатата функция. Взимайте целите редове, чрез генератора от Задача 1.


"Имплементирайте генератор read_splitted, който приема два аргумента. Първият аргумент е името на файла, чийто редове ще четете и ще разделяте на лист. Вторият аргумент да е обект на функция." (всичко в Python е обект)

```python
def read_splitted(file_name, func):
    pass
```

"...Вторият аргумент да е обект на функция. Тази функция трябва да приема един аргумент, който всъщност ще е текущия ред от файла. Функцията трябва да разделя реда на лист и да връща листа." - дефинираме си една такава функция.

```python
def line_to_list(line):
      return line.split(';')
```

Тази функция подаваме по следния начин:
```python
read_splitted('cars.csv', line_to_list)
```

"Генераторът да връща резултата от споменатата функция. Взимайте целите редове, чрез генератора от Задача 1."
```python
def read_splitted(file_name, func):
    for line in read_file(file_name):
        yield func(line)
```

Цялата задача:
```python
def line_to_list(line):
    return line.split(';')

def read_splitted(file_name, func):
    for line in read_file(file_name):
        yield func(line)
        
read_splitted('cars.csv', line_to_list)
```

### Задача 3
Имплементирайте функция get_europe_cars, която итерира по разбитите на лист редове, използвайки генератора от втора задача. На read_splitted подайте lambda израз, за да ви раздели реда. Функцията да връща лист с имената на всички коли, които са от Европа. get_europe_cars трябва да приема за аргумент името на файла, по който ще се работи и да го подава на read_splitted.

"Имплементирайте функция get_europe_cars, която итерира по разбитите на лист редове, използвайки генератора от втора задача. На read_splitted подайте lambda израз, за да ви раздели реда."

Функцията
```python
def line_to_list(line):
    return line.split(';')

print(line_to_list('Buick Skylark 320;15.0;8;350.0;165.0;3693.;11.5;70;US'))
```

е еквивалент на следния ламбда израз, който сочи към него:
```python
line_to_list = lambda line: line.split(';')

print(line_to_list('Buick Skylark 320;15.0;8;350.0;165.0;3693.;11.5;70;US'))
```

Използваме ламбда в третата задача.
```python
def get_europe_cars(file_name):
    for line_list in read_splitted(file_name, lambda line: line.split(';')):
        pass
```

"Функцията да връща лист с имената на всички коли, които са от Европа."

Ако имаме string `'I leave in Europe.'`, тогава `'Europe' in 'I leave in Europe.'` ще върне `True`.
Ако отворите файла ще видите, че континентът е последната колона вътре (селд последната ';'). Разделяме реда в лист, т.е. континентът, ще е последният елемент от листа. Условието ни ще е следното:
```python
if 'Europe' in line_list[-1]: # -1 means the last element
    result.append(line_list[0])
```

Ако услвоеито е вярно, трябва да добавим името на колата в резултатния списък. Името е първата колона, т.е. и първия елемент от `line_list`. 


```python
def get_europe_cars(file_name):
    result = []
    
    for line_list in read_splitted(file_name, lambda line: line.split(';')):
        if 'Europe' in line_list[-1]: # if 'Europe' is in the last element (the origin)
            result.append(line_list[0]) # we append the first element (the name)
            
    return result
```

# Група 2
Свалете файла Camera.csv от тук: https://goo.gl/R0Xprb
 
Задача 1
Имплементирайте генератор `read_file`, който връща всички редове от файла, освен първите два. Първите два реда не съдържат информация за апарат. Генераторът да приема името на файла като първи аргумент и да използва него.
 
Задача 2
Имплементирайте генератор `read_filtered_splitted_lines`, който итерира по редовете на файла, използвайки read_file. `read_filtered_splitted_lines` да приема три аргумента. Първият е името на файла, по чийто редове ще се работи. Вторите два аргумента да са обекти на функции. Първата функция да приема 1 аргумент, който да е текущия ред от файла. Тя ще проверява дали `'Casio'` се съдържа в аргумента и ще връща резултата, съответно `True` ако се съдържа или `False`, ако не се. Втората функция трябва да разбива реда на лист и да го връща. Втората функция отново да приема реда като аргумент. Генераторът да връща резултата от втората функция, ако първата върне True.
 
Задача 3
Имплементирайте функция get_filtered_lists, която запазва в лист всички върнати резултати от read_filtered_splitted_lines. Функцията, да приема името на файла, върху който ще се работи и да го подава на генератора. Връщайте листа като резултат. На read_filtered_splitted_lines подавайте lambda изрази, за последните два аргумента.
